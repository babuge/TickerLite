# TickerLite

金融行情软件低配版

## 简介

低成本个人金融行情软件，需在“功能极简+资源零成本+流程极简化”三个维度做极致优化。以下是具体方案：

### 一、开发工具与环境：

1. **Qt环境**  
   - 用**Qt 5.15 开源版**（永久免费，支持商业使用），搭配**MinGW 8.1**编译器，无需购买商业授权。  
   - 放弃Qt Creator的高级功能（如性能分析），仅用基础编辑、编译功能，避免依赖付费插件。

2. **替代所有付费库**  
   - 图表：用**QCustomPlot**（完全开源，100KB源码，直接嵌入到项目，支持K线/折线图），比Qt Charts更轻量且免费。  
   - 数据存储：用**SQLite**（Qt内置`QSql`模块直接支持，无需安装服务器，单文件数据库，适合存储历史K线）。  
   - 协议解析：手写JSON/TCP解析逻辑，不依赖任何第三方库（Qt自带`QJsonDocument`和`QTcpSocket`足够）。

### 二、数据源

1. **优先“公开数据源”**  
   - 国内A股：抓取**新浪财经行情接口**（`http://hq.sinajs.cn/list=sh600000`），返回纯文本格式，解析简单（无调用限制，非商业场景合规）。  
   - 美股：用**Alpha Vantage免费版**（5次/分钟调用限制，足够个人使用，返回JSON格式）。  
   - 本地模拟：用Python写10行代码启动一个HTTP服务器，返回固定格式的模拟行情数据（`{"code":"600000","price":10.25}`），开发阶段完全不依赖外部接口。

2. **数据格式选择**  
   - 只接**文本协议**（HTTP/JSON、纯文本），避开二进制协议（开发耗时）。例如：新浪接口返回的文本直接用字符串分割即可解析，无需处理字节序、校验位。

### 三、功能极简：只保留“能跑起来”的核心

1. **必做的功能（全部砍掉）**  
   - 复杂指标（MACD/RSI）、多市场切换、盘口深度、历史数据导出、用户登录、权限管理。  
   - 高性能优化（如多线程、内存池）：初期用单线程+定时器轮询（10秒一次），足够演示。

2. **必做的3个功能**  
   - **行情列表**：用`QTableWidget`（而非`QTableView+Model`，少写50行代码），手动添加几列（代码、价格、涨跌幅），定时刷新文本。  
   - **分时图**：用QCustomPlot画一条折线，横轴时间、纵轴价格，数据直接用模拟的数组（`[10.0,10.1,10.2,...]`）。  
   - **数据刷新**：用`QTimer`定时（10秒）发HTTP请求，拿到数据后直接更新UI（单线程操作，省去线程同步代码）。

### 四、开发流程：

1. **搭框架+UI**  
   - 用Qt Designer拖一个窗口，放一个`QTableWidget`（行情列表）和一个`QCustomPlot`（图表），生成UI代码（零手写）。  
   - 写一个`HttpHelper`类，用`QNetworkAccessManager`发GET请求，返回字符串（10行代码搞定）。

2. **数据解析+展示**  
   - 解析新浪接口返回的文本（例如`var hq_str_sh600000="浦发银行,10.25,10.20,..."`，用`split(",")`直接分割）。  
   - 写一个`refreshTable()`函数，把解析后的数据填到`QTableWidget`的单元格里（5行代码）。

3. **图表+打包**  
   - 用QCustomPlot的`addGraph()`添加一条线，把价格数据塞进去，调用`replot()`刷新（5行代码）。  
   - 用`windeployqt`工具生成独立EXE（双击运行，无需安装Qt环境）。

### 五、总成本核算（单人开发）

| 项目         | 说明                          |
|--------------|-------------------------------|
| 开发工具     |全开源免费                    |
| 数据源       |用免费公开接口或模拟数据      |
| 总计         |仅人力成本，无其他开支        |

### 六、风险与妥协

- **功能极简**：只能看简单行情和一条线，无任何高级功能，但能验证核心流程。  
- **数据稳定性**：免费接口可能突然失效，解决方案是多备1-2个免费接口（如东方财富、网易财经），写个简单的切换逻辑。  
- **合规性**：仅用于个人学习，商业使用需替换为授权数据源（但初期开发可完全规避）。

方案的核心是“用最少的代码实现最基础的可视化”，适合快速验证需求或作为原型演示，后续再逐步迭代功能。
